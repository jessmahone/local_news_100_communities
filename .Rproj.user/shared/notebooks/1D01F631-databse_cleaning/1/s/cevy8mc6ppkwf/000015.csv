"0",""
"0","# Load stories_clean"
"0","stories_clean <- read_csv(""data/processed/stories_clean.csv"")"
"2","
[36mâ”€â”€[39m [1m[1mColumn specification[1m[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
cols(
  story_id = [32mcol_double()[39m,
  publication_date = [34mcol_datetime(format = """")[39m,
  headline = [31mcol_character()[39m,
  outlet_id = [32mcol_double()[39m,
  original = [32mcol_double()[39m,
  local = [32mcol_double()[39m,
  cin = [32mcol_double()[39m,
  community_id = [32mcol_double()[39m,
  day = [32mcol_double()[39m
)

"
"0","# Recode 1s and 0s to Yes and No in stories file"
"0","stories_binary <- c(""original"", ""local"")"
"0",""
"0","stories_clean <- stories_clean %>% "
"0","  mutate(across(all_of(stories_binary), ~ifelse(. == 1, ""Yes"", ""No"")))"
"0",""
"0","# Recode CINs to categories"
"0","cin_categories <- read_xlsx(""data/raw/cin_categories.xlsx"")"
"0",""
"0","stories_clean <- stories_clean %>% "
"0","  left_join(cin_categories, by = ""cin"") %>% "
"0","  select(story_id, publication_date, headline, outlet_id, original, local, cin_name, everything()) %>% "
"0","  select(-c(cin, day)) %>% "
"0","  rename(critical_info_need = cin_name)"
"0",""
"0",""
